@using RummiSolve
<div class="tile @(Tile.IsJoker ? "joker" : "") @(ShouldHighlight ? "highlight" : "")">
    <div class="tile-number" style="color:@(Tile.IsJoker ? "purple" : GetColor(Tile.Color))">
        <b>@(Tile.IsJoker ? "J" : Tile.Value.ToString())</b>
    </div>
</div>


@code {
    [Parameter] public required Tile Tile { get; set; }
    [Parameter] public bool ShouldHighlight { get; set; }
    [Parameter] public int? TileIndex { get; set; }
    [Parameter] public HashSet<int>? HighlightIndices { get; set; }

    protected override void OnParametersSet()
    {
        // If using index-based highlighting, override ShouldHighlight
        if (TileIndex.HasValue && HighlightIndices != null)
        {
            ShouldHighlight = HighlightIndices.Contains(TileIndex.Value);
        }
    }

    private string GetColor(TileColor color)
    {
        return color switch
        {
            TileColor.Blue => "blue",
            TileColor.Red => "red",
            TileColor.Mango => "orange",
            TileColor.Black => "black",
            _ => "gray"
        };
    }

}

<style>
    .tile {
        position: relative;
        display: inline-block;
        width: 50px;
        height: 70px;
        background-color: #dcdbdb; /* White background to avoid gray */
        border: 2px solid #CCCCCC;
        border-radius: 10px; /* Rounded corners */
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Drop shadow */
    }

    .tile-number {
        position: absolute;
        top: 5px;
        width: 100%;
        text-align: center;
        font-size: 24px;
        font-weight: bold;
    }

    .tile.joker {
        background-color: #FFD700; /* Golden background for the Joker */
    }

    .tile.highlight {
        border-color: red;
    }

    /* Hover effect */
    .tile:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);
        transition: transform 0.2s, box-shadow 0.2s;
    }
</style>